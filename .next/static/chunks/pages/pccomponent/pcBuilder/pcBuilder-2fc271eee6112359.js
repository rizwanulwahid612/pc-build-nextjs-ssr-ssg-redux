(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[175],{82216:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pccomponent/pcBuilder/pcBuilder",function(){return l(74577)}])},74577:function(e,t,l){"use strict";l.r(t),l.d(t,{__N_SSP:function(){return N}});var n=l(85893),r=l(67294),d=l(65400),i=l.n(d),a=l(70302),o=l(74048),s=l(2307),c=l(84960),u=l(84996),p=l(11187),x=l(88206),h=l(41664),f=l.n(h),v=l(92018);l(80002),l(11163);var y=l(1052),_=l(84655),j=l(11482),m=l.n(j),g=l(33299);let{Column:w,ColumnGroup:P}=s.default,b=e=>{let{count:t}=e;return(0,n.jsx)(o.default,{style:{marginTop:"7px"},size:"large",children:(0,n.jsx)(u.Z,{count:t,children:(0,n.jsx)(c.ZP,{shape:"square",size:"small"})})})},k=e=>{let{featureProduct:t}=e;return(0,n.jsx)(f(),{href:"/productDetailsPage/".concat(t),children:(0,n.jsx)(i(),{type:"primary",children:"Choose"})})},C=e=>{let{posts:t}=e;console.log(t);let{data:l}=(0,g.useSession)(),{products:d}=(0,y.C)(e=>e.product);console.log(d);let[c,u]=(0,r.useState)(null),x=e=>{c===e?u(null):u(e)},h=null==t?void 0:t.map(e=>{let t=d.filter(t=>t.id===e.id);return{key:e.id,featureProduct:e.featureProduct,featureimage:e.featureimage,category:e.category,status:e.status,price:e.price,products:t}});console.log(h);let j=null==h?void 0:h.some(e=>{var t;return(null==e?void 0:null===(t=e.products)||void 0===t?void 0:t.length)===0}),w=(0,y.T)(),P=async()=>{var e;console.log("postsWithMatchingProducts:",d);let t={email:null==l?void 0:null===(e=l.user)||void 0===e?void 0:e.email,data:d},n=await fetch("http://localhost:5000/storeData",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});n.ok?(p.ZP.success("complect build successfull"),w((0,_.LL)(d)),console.log(d),await n.json()):console.error("Failed to store data:",n.statusText)},C=[{title:"Name",dataIndex:"featureProduct",key:"featureProduct"},{title:"Category",dataIndex:"category",key:"category"},{title:"Price",dataIndex:"price",key:"price"},{title:"Status",dataIndex:"status",key:"status"},{title:"Chose Quantity",dataIndex:"",key:"choseQuantity",render:(e,t)=>{var l;return(0,n.jsx)(b,{count:null==t?void 0:null===(l=t.products)||void 0===l?void 0:l.length})}},{title:"Action",dataIndex:"",key:"action",render:(e,t)=>(0,n.jsx)(k,{featureProduct:null==t?void 0:t.featureProduct})}];return console.log(t),(0,n.jsxs)("div",{style:{overflowX:"auto"},children:[(0,n.jsx)(s.default,{className:m().ant_table,columns:C,expandable:{expandedRowRender:e=>{var t;return(0,n.jsx)(a.default,{className:m().ant_card,style:{width:"100%"},children:(0,n.jsx)(o.default,{size:"large",children:(0,n.jsx)("div",{className:"pc-builder-footer",children:null==e?void 0:null===(t=e.products)||void 0===t?void 0:t.map(e=>(0,n.jsx)("div",{children:(0,n.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:(0,n.jsx)("div",{children:(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,n.jsx)(a.default,{hoverable:!0,style:{width:"180vh"},children:(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:"60px"},children:[(0,n.jsx)("img",{alt:"example",src:null==e?void 0:e.image,width:60}),(0,n.jsxs)("p",{children:["Description:",null==e?void 0:e.description]}),(0,n.jsxs)("div",{children:["Name: ",null==e?void 0:e.productName]}),(0,n.jsxs)("div",{children:["Price: ",null==e?void 0:e.price]})]})}),(0,n.jsx)("div",{children:(0,n.jsx)(i(),{onClick:()=>w((0,_.h2)(e)),type:"primary",danger:!0,shape:"circle",children:(0,n.jsx)(v.Z,{})})})]})},null==e?void 0:e.productName)})},null==e?void 0:e.productName))})})})},expandedRowKeys:[c],onExpand:(e,t)=>{e?x(t.key):x(null)}},dataSource:h}),(0,n.jsx)("div",{style:{display:"flex",justifyContent:"end"},children:(0,n.jsxs)(f(),{href:"/",children:[(0,n.jsx)(i(),{onClick:()=>P(),type:"primary",danger:!0,disabled:j,children:"Complete Build"})," "]})})]})};C.getLayout=function(e){return(0,n.jsx)(x.Z,{children:e})};var N=!0;t.default=C},1052:function(e,t,l){"use strict";l.d(t,{C:function(){return d},T:function(){return r}});var n=l(41248);let r=()=>(0,n.I0)(),d=n.v9},11482:function(e){e.exports={ant_table:"PcBuilder_ant_table__JUafy",ant_card:"PcBuilder_ant_card__oDIDD","custom-card-extra-button":"PcBuilder_custom-card-extra-button__5y_fm","expanded-row-content":"PcBuilder_expanded-row-content__uwv7j","complete-build-button":"PcBuilder_complete-build-button__zwFwv"}}},function(e){e.O(0,[661,373,258,302,509,749,654,206,774,888,179],function(){return e(e.s=82216)}),_N_E=e.O()}]);